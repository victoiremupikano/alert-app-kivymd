MDScreen:
    name: "home_genrale"
    MDNavigationLayout:
        md_bg_color: 0,172/255, 238/255, 1
        ScreenManager:
            MDScreen:
                name: "home_particular"
                BoxLayout:
                    orientation: 'vertical'
                    MDTopAppBar:
                        title: "         U.O.R Alerte d'accident"
                        md_bg_color: 0,172/255, 238/255,
                        # on ouvre le drop
                        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                        elevation: 0 
                    MDLabel:
                        text: "Toucher sur l'icone plus pour effectuer les opéations de lancement d'alerte ou pour dementir une alerte"
                        pos_hint: {'center_x': .5,'center_y': .6}
                        halign: "center"
                        font_name: "BMontserrat"
                        color: 1,1,1,1
                        font_size: "20sp"
                    MDBottomAppBar:
                        MDTopAppBar:
                            left_action_items: [['cellphone-nfc-off', lambda x: app.unset_alarm("false")]]
                            mode: 'end'
                            type: 'bottom'
                            # par defaut on a un icon d'anroid mais on peux changer
                            icon: 'cellphone-nfc'
                            # event click du btn
                            on_action_button: app.set_alarm("true")

        MDNavigationDrawer:
            id: nav_drawer
            BoxLayout:
                orientation: 'vertical'
                spacing: '8dp'
                padding: '8dp'

                Image:
                    source: "../assets/bg_false.png"

                MDLabel:
                    text: 'Alerte pour la sécurisation'
                    font_style: 'Subtitle1'
                    size_hint_y: None
                    height: self.texture_size[1]
                MDLabel:
                    text: "Application pour lancer une alerte en cas d'insécurité, l'alerte sera envoyer au serveur de la police."
                    font_style: 'Caption'
                    size_hint_y: None
                    height: self.texture_size[1]

                ScrollView:
                    MDList:
                        OneLineIconListItem:
                            # event du clic sur le bouton
                            on_release:
                                # on se deconnecte
                                app.logout()
                            text: 'Deconnexion'
                            IconLeftWidget:
                                icon: 'logout'
                        OneLineIconListItem:
                            text: 'Connexion'
                            # event du clic sur le bouton
                            on_release:
                                # on se deconnecte
                                app.logout()
                            IconLeftWidget:
                                icon: 'login'
                            
                        